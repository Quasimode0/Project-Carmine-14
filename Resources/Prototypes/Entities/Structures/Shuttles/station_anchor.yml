  - type: entity
    id: StationAnchorBase
    name: station anchor
    description: Prevents stations from moving.
    suffix: true
    abstract: true
    placement:
      mode: AlignTileAny
    components:
      - type: Sprite
        sprite: Structures/Machines/station_anchor.rsi
        layers:
          - state: station_anchor
            map: [base]
          - state: station_anchor_unlit
            shader: unshaded
            map: [unlit]
      - type: Appearance
      - type: GenericVisualizer
        visuals:
          enum.PowerChargeVisuals.Active:
            unlit:
              true: {visible: true}
              false: {visible: false}
      - type: Fixtures
        fixtures:
          fix1:
            shape: !type:PhysShapeAabb
              bounds: -0.7,-0.8,0.7,0.8
            density: 190
            mask: [LargeMobMask]
            layer: [WallLayer]
      - type: Physics
        bodyType: Static
      - type: Transform
        anchored: true
      - type: StationAnchor
      - type: AmbientSound
        enabled: false
        range: 4
        volume: -4
        sound:
          path: /Audio/Effects/shuttle_thruster.ogg
      - type: InteractionOutline
  - type: entity
    parent: StationAnchorBase
    id: StationAnchorIndestructible
    suffix: Indestructible, Unpowered
  - type: entity
    parent: [StationAnchorBase, BaseMachinePowered, ConstructibleMachine]
    id: StationAnchor
    name: station anchor
    description: Prevents stations from moving
    placement:
      mode: AlignTileAny
    components:
      - type: StaticPrice
        price: 10000
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 150
            behaviors:
              - !type:DoActsBehavior
                acts: [Breakage]
          - trigger: !type:DamageTrigger
              damage: 600
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
              - !type:PlaySoundBehavior
                sound:
                  collection: MetalBreak
      - type: Damageable
        damageContainer: Inorganic
        damageModifierSet: Metallic
      - type: UserInterface
        interfaces:
          enum.PowerChargeUiKey.Key:
            type: PowerChargeBoundUserInterface
      - type: Construction
        containers: [machine_parts, machine_board]
      - type: ContainerContainer
        containers:
          machine_parts: !type:Container
      - type: StationAiWhitelist
      - type: PowerCharge
        windowTitle: station-anchor-window-title
        idlePower: 50
        activePower: 2500
        chargeRate: 0.5
      - type: ActivatableUI
        key: enum.PowerChargeUiKey.Key
      - type: ActivatableUIRequiresPower
      - type: Anchorable
      - type: ApcPowerReceiver
        powerLoad: 2500
      - type: ExtensionCableReceiver
      - type: Repairable
        fuelCost: 10
        doAfterDelay: 5
  - type: entity
    parent: StationAnchor
    id: StationAnchorOff
    suffix: false
    components:
      - type: StationAnchor
        switchedOn: false
