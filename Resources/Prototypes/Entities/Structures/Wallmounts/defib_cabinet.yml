  - type: entity
    id: DefibrillatorCabinet
    name: defibrillator cabinet
    description: A small wall mounted cabinet designed to hold a defibrillator.
    components:
      - type: Sprite
        sprite: Structures/Wallmounts/defib_cabinet.rsi
        noRot: false
        layers:
          - state: frame
          - state: fill
            map: [enum.ItemCabinetVisualLayers.ContainsItem]
            visible: true
          - state: closed
            map: [enum.ItemCabinetVisualLayers.Door]
      - type: Appearance
      - type: Clickable
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 80
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
          - trigger: !type:DamageTrigger
              damage: 40
            behaviors:
              - !type:EmptyAllContainersBehaviour
              - !type:DoActsBehavior
                acts: [Destruction]
              - !type:PlaySoundBehavior
                sound:
                  collection: MetalGlassBreak
      - type: Damageable
        damageContainer: Inorganic
        damageModifierSet: Metallic
      - type: Transform
        anchored: true
      - type: ContainerContainer
        containers:
          ItemCabinet: !type:ContainerSlot
      - type: WallMount
        arc: 175
      - type: InteractionOutline
      - type: ItemCabinet
        cabinetSlot:
          ejectOnInteract: true
          whitelist:
            components: [Defibrillator]
        doorSound:
          path: /Audio/Machines/machine_switch.ogg
        openState: open
        closedState: closed
      - type: ItemSlots
    placement:
      mode: SnapgridCenter
  - type: entity
    parent: DefibrillatorCabinet
    id: DefibrillatorCabinetOpen
    suffix: Open
    components:
      - type: ItemCabinet
        opened: true
        doorSound:
          path: /Audio/Machines/machine_switch.ogg
        openState: open
        closedState: closed
  - type: entity
    parent: DefibrillatorCabinet
    id: DefibrillatorCabinetFilled
    suffix: Filled
    components:
      - type: ItemCabinet
        cabinetSlot:
          ejectOnInteract: true
          startingItem: Defibrillator
          whitelist:
            components: [Defibrillator]
        doorSound:
          path: /Audio/Machines/machine_switch.ogg
        openState: open
        closedState: closed
  - type: entity
    parent: DefibrillatorCabinetFilled
    id: DefibrillatorCabinetFilledOpen
    suffix: Filled, Open
    components:
      - type: ItemCabinet
        opened: true
        doorSound:
          path: /Audio/Machines/machine_switch.ogg
        openState: open
        closedState: closed
