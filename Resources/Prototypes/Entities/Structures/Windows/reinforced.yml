  - type: entity
    parent: Window
    id: ReinforcedWindow
    name: reinforced window
    components:
      - type: Sprite
        drawdepth: WallTops
        sprite: _Crescent/Structures/newReinfWindow.rsi
      - type: Icon
        sprite: _Crescent/Structures/newReinfWindow.rsi
        state: windowfull
      - type: Appearance
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 150 # excess damage (nuke?). avoid computational cost of spawning entities.
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
          - trigger: !type:DamageTrigger
              damage: 75
            behaviors:
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
              - !type:SpawnEntitiesBehavior
                spawn:
                  ShardGlassReinforced:
                    min: 1
                    max: 2
              - !type:DoActsBehavior
                acts: [Destruction]
      - type: Damageable
        damageContainer: StructuralInorganic
        damageModifierSet: RGlass
      - type: Construction
        graph: Window
        node: reinforcedWindow
      - type: Repairable
        fuelCost: 10
        doAfterDelay: 2
      - type: RCDDeconstructable
        cost: 6
        delay: 6
        fx: EffectRCDDeconstruct6
      - type: IconSmooth
        base: window
      - type: DamageVisuals
        thresholds: [4, 8, 12]
        damageDivisor: 4
        trackAllDamage: true
        damageOverlay:
          sprite: Structures/Windows/cracks.rsi
  - type: entity
    parent: Window
    id: ReinforcedWindowTough
    name: reinforced window
    suffix: Tough
    components:
      - type: Sprite
        drawdepth: WallTops
        sprite: _Crescent/Structures/newReinfWindow.rsi
      - type: Icon
        sprite: _Crescent/Structures/newReinfWindow.rsi
        state: windowfull
      - type: Appearance
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 400 # excess damage (nuke?). avoid computational cost of spawning entities.
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
          - trigger: !type:DamageTrigger
              damage: 350
            behaviors:
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
              - !type:SpawnEntitiesBehavior
                spawn:
                  ShardGlassReinforced:
                    min: 1
                    max: 2
              - !type:DoActsBehavior
                acts: [Destruction]
      - type: Damageable
        damageContainer: StructuralInorganic
        damageModifierSet: RGlass
      - type: Construction
        graph: Window
        node: reinforcedWindow
      - type: Repairable
        fuelCost: 10
        doAfterDelay: 2
      - type: RCDDeconstructable
        cost: 6
        delay: 6
        fx: EffectRCDDeconstruct6
      - type: IconSmooth
        base: window
      - type: DamageVisuals
        thresholds: [4, 8, 12]
        damageDivisor: 4
        trackAllDamage: true
        damageOverlay:
          sprite: Structures/Windows/cracks.rsi
  - type: entity
    parent: ReinforcedWindow
    id: TintedWindow
    name: tinted window
    components:
      - type: Sprite
        drawdepth: WallTops
        sprite: Structures/Windows/tinted_window.rsi
      - type: Icon
        sprite: Structures/Windows/tinted_window.rsi
        state: full
      - type: StaticPrice
        price: 44
      - type: Construction
        graph: Window
        node: tintedWindow
      - type: IconSmooth
        base: twindow
      - type: Occluder
  - type: entity
    parent: WindowDirectional
    id: WindowReinforcedDirectional
    name: directional reinforced window
    description: Don't smudge up the glass down there.
    placement:
      mode: SnapgridCenter
      snap: [Window]
    components:
      - type: Sprite
        sprite: Structures/Windows/directional.rsi
        state: reinforced_window
      - type: Icon
        sprite: Structures/Windows/directional.rsi
        state: reinforced_window
      - type: StaticPrice
        price: 22
      - type: Appearance
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 150 # excess damage (nuke?). avoid computational cost of spawning entities.
            behaviors:
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
              - !type:DoActsBehavior
                acts: [Destruction]
          - trigger: !type:DamageTrigger
              damage: 50
            behaviors:
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
              - !type:SpawnEntitiesBehavior
                spawn:
                  ShardGlassReinforced:
                    min: 1
                    max: 1
              - !type:DoActsBehavior
                acts: [Destruction]
      - type: Damageable
        damageModifierSet: RGlass
      - type: Construction
        graph: WindowDirectional
        node: windowReinforcedDirectional
      - type: DamageVisuals
        thresholds: [4, 8, 12]
        damageDivisor: 10
        trackAllDamage: true
        damageOverlay:
          sprite: Structures/Windows/cracks_directional.rsi
      - type: RCDDeconstructable
        cost: 4
        delay: 4
        fx: EffectRCDDeconstruct4
