  - type: entity
    parent: WindowRCDResistant
    id: PlasmaWindow
    name: plasma window
    components:
      - type: Sprite
        drawdepth: WallTops
        sprite: _Crescent/Structures/newReinfPlasWindow2.rsi
      - type: Icon
        sprite: _Crescent/Structures/newReinfPlasWindow2.rsi
        state: windowfull
      - type: StaticPrice
        price: 60
      - type: Appearance
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 500
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
          - trigger: !type:DamageTrigger
              damage: 300
            behaviors:
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
              - !type:SpawnEntitiesBehavior
                spawn:
                  ShardGlassPlasma:
                    min: 1
                    max: 2
              - !type:DoActsBehavior
                acts: [Destruction]
      - type: Damageable
        damageContainer: StructuralInorganic
        damageModifierSet: RGlass
      - type: Construction
        graph: Window
        node: plasmaWindow
      - type: ExplosionResistance
        damageCoefficient: 0.5
      - type: IconSmooth
        base: window
      - type: DamageVisuals
        thresholds: [4, 8, 12]
        damageDivisor: 3.333
        trackAllDamage: true
        damageOverlay:
          sprite: Structures/Windows/cracks.rsi
      - type: RadiationBlocker
        resistance: 4
  - type: entity
    parent: WindowDirectionalRCDResistant
    id: PlasmaWindowDirectional
    name: directional plasma window
    description: Don't smudge up the glass down there.
    placement:
      mode: SnapgridCenter
      snap: [Window]
    components:
      - type: Sprite
        sprite: Structures/Windows/directional.rsi
        state: plasma_window
      - type: Icon
        sprite: Structures/Windows/directional.rsi
        state: plasma_window
      - type: StaticPrice
        price: 30
      - type: Appearance
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 200
            behaviors:
              - !type:PlaySoundBehavior
                sound:
                  collection: WindowShatter
              - !type:SpawnEntitiesBehavior
                spawn:
                  ShardGlassPlasma:
                    min: 1
                    max: 1
              - !type:DoActsBehavior
                acts: [Destruction]
      - type: Construction
        graph: WindowDirectional
        node: plasmaWindowDirectional
      - type: DamageVisuals
        thresholds: [4, 8, 12]
        damageDivisor: 3.333
        trackAllDamage: true
        damageOverlay:
          sprite: Structures/Windows/cracks_directional.rsi
