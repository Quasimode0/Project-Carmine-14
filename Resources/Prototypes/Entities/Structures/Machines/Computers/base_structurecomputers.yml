  - type: entity
    parent: BaseStructureComputer
    id: BaseComputer
    name: computer
    placement:
      mode: SnapgridCenter
    components:
      - type: Sprite
        sprite: Structures/Machines/computers.rsi
        layers:
          - map: [computerLayerBody]
            state: computer
          - map: [computerLayerKeyboard]
            state: generic_keyboard
          - map: [computerLayerScreen]
            state: generic
          - map: [computerLayerKeys]
            state: generic_keys
          - map: [enum.WiresVisualLayers.MaintenancePanel]
            state: generic_panel_open
      - type: Appearance
      - type: PointLight
        radius: 1.5
        energy: 1.6
        enabled: false
        mask: /Textures/Effects/LightMasks/cone.png
        autoRot: true
        offset: 0, 0.4 # shine from the top, not bottom of the computer
        castShadows: false
      - type: GenericVisualizer
        visuals:
          enum.ComputerVisuals.Powered:
            computerLayerScreen:
              true: {visible: true, shader: unshaded}
              false: {visible: false}
            computerLayerKeys:
              true: {visible: true, shader: unshaded}
              false: {visible: true, shader: shaded}
          enum.WiresVisuals.MaintenancePanelState:
            enum.WiresVisualLayers.MaintenancePanel:
              true: {visible: false}
              false: {visible: true}
      - type: Construction
        graph: Computer
        node: computer
        containers: [board]
      - type: ContainerContainer
        containers:
          board: !type:Container
            ents: []
      - type: MeleeSound
        soundGroups:
          Brute:
            collection: GlassSmash
      - type: Computer
      - type: ApcPowerReceiver
        powerLoad: 200
      - type: ExtensionCableReceiver
      - type: ActivatableUIRequiresPower
      - type: LitOnPowered
      - type: SpamEmitSoundRequirePower
      - type: SpamEmitSound
        minInterval: 20
        maxInterval: 60
        sound:
          collection: ComputerSFX
          params:
            volume: -3
            maxDistance: 5
            variation: 0.15
      - type: AmbientOnPowered
      - type: AmbientSound
        sound:
          path: /Audio/_Crescent/Ambience/computer_loop.ogg
          params:
            volume: -12
            maxDistance: 5
      - type: EmitSoundOnUIOpen
        sound:
          path: /Audio/_Crescent/Ambience/Computers/type.ogg
          params:
            volume: -1
            variation: 0.10
            pitch: 1.10 # low pitch keyboard sounds feel kinda weird
        blacklist:
          tags: [NoConsoleSound]
      - type: LightningTarget
        priority: 1
      - type: RequireProjectileTarget
      - type: LanguageSpeaker
        currentLanguage: TauCetiBasic
      - type: LanguageKnowledge
        speaks: [TauCetiBasic, RobotTalk]
        understands: [TauCetiBasic, RobotTalk]
      - type: Electrified
        enabled: false
        usesApcPower: true
      - type: WiresPanel
      - type: WiresVisuals
      - type: Wires
        boardName: wires-board-name-computer
        layoutId: Computer

#
#     This is overwritten by children, so needs to be defined there
#  - type: UserInterface
#    interfaces:
#      enum.WiresUiKey.Key:
#        type: WiresBoundUserInterface
  - type: entity
    parent: BaseComputer
    id: BaseComputerAiAccess
    components:
      - type: StationAiWhitelist
      - type: Wires
        boardName: wires-board-name-computer
        layoutId: ComputerAi
