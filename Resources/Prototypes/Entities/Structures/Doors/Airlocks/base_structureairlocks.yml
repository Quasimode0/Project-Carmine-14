  - type: entity
    parent: BaseStructure
    id: Airlock
    name: airlock
    description: It opens, it closes, and maybe crushes you.
    abstract: true
    components:
      - type: Sprite
        sprite: Structures/Doors/Airlocks/Standard/basic.rsi
        snapCardinals: true
        layers:
          - state: closed
            map: [enum.DoorVisualLayers.Base]
          - state: closed_unlit
            shader: unshaded
            map: [enum.DoorVisualLayers.BaseUnlit]
          - state: welded
            map: [enum.WeldableLayers.BaseWelded]
          - state: bolted_unlit
            shader: unshaded
            map: [enum.DoorVisualLayers.BaseBolted]
          - state: emergency_unlit
            map: [enum.DoorVisualLayers.BaseEmergencyAccess]
            shader: unshaded
          - state: panel_open
            map: [enum.WiresVisualLayers.MaintenancePanel]
          - state: electrified
            sprite: Interface/Misc/ai_hud.rsi
            shader: unshaded
            visible: false
            map: [enum.ElectrifiedLayers.HUD]
      - type: StaticPrice
        price: 150
      - type: Appearance
      - type: Tag
        tags:
          - Airlock
      # This tag is used to nagivate the Airlock construction graph. It's needed because the construction graph is shared between Airlock, AirlockGlass, and HighSecDoor
      - type: Fixtures
        fixtures:
          fix1:
            shape: !type:PhysShapeAabb
              bounds: -0.49,-0.49,0.49,0.49 # don't want this colliding with walls or they won't close
            density: 100
            mask: [FullTileMask]
            layer: [AirlockLayer]
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 500
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
              - !type:PlaySoundBehavior
                sound:
                  collection: MetalSlam
      - type: Physics
      - type: Damageable
        damageContainer: StructuralInorganic
        damageModifierSet: StrongMetallic
      - type: UserInterface
        interfaces:
          enum.AiUi.Key:
            type: StationAiBoundUserInterface
          enum.WiresUiKey.Key:
            type: WiresBoundUserInterface
      - type: ContainerFill
      - type: Construction
        graph: Airlock
        node: airlock
        containers: [board]
      - type: ContainerContainer
      - type: StationAiWhitelist
      - type: MeleeSound
        soundGroups:
          Brute:
            path: /Audio/Weapons/smash.ogg
      - type: InteractionOutline
      - type: AnimationPlayer
      - type: LayerChangeOnWeld
        unWeldedLayer: AirlockLayer
        weldedLayer: WallLayer
      - type: AccessReader
        containerAccessProvider: board
      - type: Door
        crushDamage:
          types:
            Blunt: 15
        openSound:
          path: /Audio/Machines/airlock_open.ogg
        closeSound:
          path: /Audio/Machines/airlock_close.ogg
        denySound:
          path: /Audio/Machines/airlock_deny.ogg
      - type: Weldable
        fuel: 5
        time: 3
      - type: Airlock
      - type: NavMapDoor
      - type: DoorBolt
      - type: WiresVisuals
      - type: ElectrocutionHUDVisuals
      - type: ApcPowerReceiver
        powerLoad: 20
      - type: ExtensionCableReceiver
      - type: Electrified
        enabled: false
        usesApcPower: true
      - type: WiresPanel
      - type: WiresPanelSecurity
      - type: Wires
        boardName: wires-board-name-airlock
        layoutId: Airlock
      - type: DoorSignalControl
      - type: DeviceNetwork
        deviceNetId: Wireless
        receiveFrequencyId: BasicDevice
      - type: WirelessNetworkConnection
        range: 200
      - type: DeviceLinkSink
        ports: [Open, Close, Toggle, AutoClose, DoorBolt]
      - type: DeviceLinkSource
        ports: [DoorStatus]
        lastSignals:
          DoorStatus: false
      - type: SoundOnOverload
      - type: SpawnOnOverload
      - type: Airtight
        noAirWhenFullyAirBlocked: false
      - type: RadiationBlocker
        resistance: 5
      - type: Occluder
      - type: RCDDeconstructable
        cost: 6
        delay: 8
        fx: EffectRCDDeconstruct8
      - type: PlacementReplacement
        key: walls
      - type: PaintableAirlock
        group: Standard
        department: Civilian
      - type: LightningTarget
        priority: 1
      - type: PryUnpowered
      - type: BlockWeather
      - type: InteractionVerbs
        allowedVerbs: [KnockOn]
      - type: TwistedConstructionTarget
        replacementProto: CultDoor
        doAfterDelay: 10
      - type: IconSmooth
        key: walls
        mode: NoSprite
    placement:
      mode: SnapgridCenter
  - type: entity
    parent: Airlock
    id: AirlockRCDResistant
    abstract: true
    components:
      - type: RCDDeconstructable
        deconstructable: false
