  - type: entity
    parent: BaseStructureDynamic
    id: PlantBox
    name: plant box
    description: A large storage container for holding plants and seeds.
    components:
      - type: Sprite
        noRot: true
        sprite: _NF/Structures/Storage/plantbox.rsi
        layers:
          - state: plantbox
          - state: plantbox-top
            map: [top]
            visible: true
      - type: StaticPrice
        price: 625
      - type: Appearance
      - type: GenericVisualizer
        visuals:
          enum.StorageVisuals.Open:
            top:
              true: {visible: false}
              false: {visible: true}
      - type: Fixtures
        fixtures:
          fix1:
            shape: !type:PhysShapeCircle
              radius: 0.3
        # very not dense to make it easy to pull
            density: 20
            mask: [SmallMobMask]
            layer: [MachineLayer]
      - type: Destructible
        thresholds:
          - trigger: !type:DamageTrigger
              damage: 450
            behaviors:
              - !type:DoActsBehavior
                acts: [Destruction]
          - trigger: !type:DamageTrigger
              damage: 300
            behaviors:
              - !type:EmptyAllContainersBehaviour
              - !type:SpawnEntitiesBehavior
                spawn:
                  MaterialWoodPlank1:
                    min: 3
                    max: 5
              - !type:DoActsBehavior
                acts: [Destruction]
      - type: Damageable
        damageContainer: Inorganic
        damageModifierSet: Wood
      - type: UserInterface
        interfaces:
          enum.StorageUiKey.Key:
            type: StorageBoundUserInterface
      - type: ContainerContainer
        containers:
          storagebase: !type:Container
            ents: []
      - type: Storage
        grid: ['0,0,9,5']
        maxItemSize: Normal
        storageOpenSound: /Audio/Effects/closetopen.ogg
        storageCloseSound: /Audio/Effects/closetclose.ogg
        whitelist:
          components: [Produce, Seed]
      - type: Anchorable
      - type: InteractionOutline
      - type: Climbable

  # plantbox-specific
      - type: Dumpable
      - type: MagnetPickup
        range: 1.5 # plant bag has a range of 1.0
